"use strict";(self.webpackChunkfinal=self.webpackChunkfinal||[]).push([[693],{6693:(dN,q2,o)=>{o.r(q2),o.d(q2,{AdminModule:()=>v});var p7=o(990),l=o(6895),f=o(433),G2=o(529),c=o(1571),E2=o(4004),L7=o(2175);class z{constructor(a){this.apiService=a}getAllUsers(){return this.apiService.get({path:"user/getAll"})}getUserInstance(a){return this.apiService.get({path:`user/single/${a.id}`}).pipe((0,E2.U)(s=>({_id:s.payload?.data._id,fName:s.payload?.data.fName,lName:s.payload?.data.lName,email:s.payload?.data.email,status:s.payload?.data.status,addresses:s.payload?.data.addresses})))}editUser(a,s){return this.apiService.patch({path:`user/edit/${a.id}`,payload:s})}addUser(a){return this.apiService.post({path:"user/register",payload:a})}deleteUser(a){return this.apiService.delete({path:`user/delete/${a.id}`})}}z.\u0275fac=function(a){return new(a||z)(c.LFG(L7.s))},z.\u0275prov=c.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"});var n=o(7599),W2=o(9140);const d7=function(e){return{enabled:e}};class M{constructor(){this.isToggled=!1,this.onToggle=new c.vpe}toggle(){this.isToggled=!this.isToggled,this.onToggle.emit(this.isToggled)}}function g7(e,a){if(1&e){const s=c.EpF();c.TgZ(0,"div",28),c.NdJ("click",function(){c.CHM(s);const i=c.oxw().index,H=c.oxw();return c.KtG(H.deleteAddress(i))}),c.TgZ(1,"span"),c._uU(2," \u2715"),c.qZA()()}}function x7(e,a){if(1&e&&(c.TgZ(0,"div")(1,"div",23)(2,"div",24)(3,"label",25),c._uU(4),c.qZA(),c._UZ(5,"input",26),c.qZA(),c.YNc(6,g7,3,0,"div",27),c.qZA()()),2&e){const s=a.index;c.xp6(1),c.Q6J("formGroupName",s),c.xp6(2),c.Q6J("for",s),c.xp6(1),c.hij("Address - ",s+1,""),c.xp6(1),c.Q6J("id",s),c.xp6(1),c.Q6J("ngIf",s>0)}}M.\u0275fac=function(a){return new(a||M)},M.\u0275cmp=c.Xpm({type:M,selectors:[["app-toggle-slider"]],inputs:{isToggled:"isToggled"},outputs:{onToggle:"onToggle"},ngContentSelectors:["*"],decls:3,vars:3,consts:[[1,"slider-container","position-relative",3,"click"],[1,"circle-handler","position-absolute",3,"ngClass"]],template:function(a,s){1&a&&(c.F$t(),c.TgZ(0,"div",0),c.NdJ("click",function(){return s.toggle()}),c._UZ(1,"div",1),c.Hsn(2),c.qZA()),2&a&&(c.xp6(1),c.Q6J("ngClass",c.VKq(1,d7,s.isToggled)))},dependencies:[l.mk],styles:[".slider-container[_ngcontent-%COMP%]{width:40px;height:17px;background-color:#e9e7e7;border-radius:20px;cursor:pointer}.circle-handler[_ngcontent-%COMP%]{width:19px;height:19px;border-radius:50%;left:2px;top:-1px;background-color:#ccc;transition:.3s ease}.circle-handler.enabled[_ngcontent-%COMP%]{background-color:green;transform:translate(17px)}"]});class V{constructor(a,s,r,i,H){this.userService=a,this.fb=s,this.toaster=i,this.router=H,this.isToggled=!1,this.userForm=Object(null),this.mode="create";const Z=r.snapshot.paramMap.get("id");Z?(this.mode="edit",this.getUser(Z)):this.mode="create"}ngOnInit(){this.userForm=this.fb.group({_id:[""],fName:["",f.kI.required],lName:["",f.kI.required],email:["",[f.kI.required,f.kI.email]],status:[!1],addresses:this.fb.array([])}),"create"==this.mode&&this.addAddress()}get address(){return this.userForm?.get("addresses")}get areas(){return this.userForm?.get("areas")}getAddressControls(){return this.userForm.get("addresses").controls}addAddress(){this.address.length<4&&this.address.push(this.fb.group({details:["",f.kI.required]}))}deleteAddress(a){this.address.removeAt(a)}getUser(a){this.userService.getUserInstance({id:a}).subscribe(s=>{this.patchUserForm(s)})}patchUserForm(a){this.userForm.patchValue({_id:a._id,fName:a.fName,lName:a.lName,email:a.email,status:a.status}),this.isToggled=a.status||!1,a.addresses?.forEach(s=>{this.address.push(this.fb.group({_id:s._id,details:s.details}))})}onSubmit(){if(this.userForm.invalid)return console.log(this.userForm),void console.log("invalid");"create"==this.mode?this.addUser():this.editUser()}addUser(){const a=this.userForm.getRawValue();delete a._id,this.userService.addUser(a).subscribe(s=>{console.log(s)})}editUser(){const a=this.userForm.get("_id")?.value,s=this.userForm.getRawValue();delete s._id,this.userService.editUser({id:a},s).subscribe({next:r=>{this.toaster.toast({type:"success",msg:r.message||""}),this.router.navigate(["/admin-panel/users"])},error:r=>{this.toaster.toast(r instanceof G2.UA?{type:"error",msg:r.error.message}:{type:"error",msg:r})}})}toggleStatus(){this.isToggled=!this.isToggled,this.userForm.patchValue({status:this.isToggled})}}V.\u0275fac=function(a){return new(a||V)(c.Y36(z),c.Y36(f.qu),c.Y36(n.gz),c.Y36(W2.M),c.Y36(n.F0))},V.\u0275cmp=c.Xpm({type:V,selectors:[["app-user-manage"]],decls:40,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6"],[1,"form-group"],["for","fName",1,"label"],["type","text","id","fName","formControlName","fName",1,"form-control"],["for","lName",1,"label"],["type","text","id","lName","formControlName","lName",1,"form-control"],[1,"col-md-12"],["for","email",1,"label"],["type","text","id","email","formControlName","email",1,"form-control"],[1,"col-md-2"],[1,"d-flex","align-items-center"],["for","status",1,"label","me-3"],[3,"isToggled","onToggle"],["hidden","","type","checkbox","name","status","id","status","formControlName","status",3,"checked"],["formArrayName","addresses",1,"form-group"],[1,"d-flex","align-items-center","justify-content-between"],["type","button",1,"btn","btn-primary","add-btn",3,"click"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-4"],[1,"btn","btn-primary"],["type","button","routerLink","/admin-panel/users",1,"btn","btn-outline-primary"],[1,"mb-2","d-flex","align-items-center","justify-content-between",3,"formGroupName"],[1,"d-flex","flex-column","w-100"],[3,"for"],["type","text","name","address","formControlName","details",1,"form-control",3,"id"],["class","close-icon mt-4 ms-2",3,"click",4,"ngIf"],[1,"close-icon","mt-4","ms-2",3,"click"]],template:function(a,s){if(1&a&&(c.TgZ(0,"div")(1,"form",0),c.NdJ("ngSubmit",function(){return s.onSubmit()}),c.TgZ(2,"div",1)(3,"h5"),c._uU(4,"Basic Info"),c.qZA(),c.TgZ(5,"div",2)(6,"div",3)(7,"label",4),c._uU(8,"First Name:*"),c.qZA(),c._UZ(9,"input",5),c.qZA()(),c.TgZ(10,"div",2)(11,"div",3)(12,"label",6),c._uU(13,"Last Name:*"),c.qZA(),c._UZ(14,"input",7),c.qZA()(),c.TgZ(15,"div",8)(16,"div",3)(17,"label",9),c._uU(18,"Email:*"),c.qZA(),c._UZ(19,"input",10),c.qZA()(),c.TgZ(20,"div",11)(21,"div",3)(22,"div",12)(23,"label",13),c._uU(24,"Status:"),c.qZA(),c.TgZ(25,"app-toggle-slider",14),c.NdJ("onToggle",function(){return s.toggleStatus()}),c._UZ(26,"input",15),c.qZA()()()()(),c._UZ(27,"hr"),c.TgZ(28,"div",16)(29,"div",17)(30,"h5"),c._uU(31,"Addresses"),c.qZA(),c.TgZ(32,"button",18),c.NdJ("click",function(){return s.addAddress()}),c._uU(33," Add Address "),c.qZA()(),c.YNc(34,x7,7,5,"div",19),c.qZA(),c.TgZ(35,"div",20)(36,"button",21),c._uU(37),c.qZA(),c.TgZ(38,"button",22),c._uU(39," Cancel "),c.qZA()()()()),2&a){let r,i;c.xp6(1),c.Q6J("formGroup",s.userForm),c.xp6(24),c.Q6J("isToggled",null==(r=s.userForm.get("status"))?null:r.value),c.xp6(1),c.Q6J("checked",null==(i=s.userForm.get("status"))?null:i.value),c.xp6(8),c.Q6J("ngForOf",s.getAddressControls()),c.xp6(3),c.hij(" ","create"==s.mode?"Create":"Save","")}},dependencies:[f._Y,f.Fj,f.Wl,f.JJ,f.JL,f.sg,f.u,f.x0,f.CE,l.sg,l.O5,M,n.rH],styles:[".form-group[_ngcontent-%COMP%]{margin-bottom:8px}.close-icon[_ngcontent-%COMP%]{border-radius:50%;border:1px solid #ccc;display:flex;align-items:center;justify-content:center;width:30px;height:30px;cursor:pointer}.add-btn[_ngcontent-%COMP%]{width:unset!important}.btn-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]{width:95px;white-space:nowrap;margin-right:8px}"]});var O2=o(3862),I={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"]},i4={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.8 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"]},Y={prefix:"fas",iconName:"user-group",icon:[640,512,[128101,"user-friends"],"f500","M352 128c0 70.7-57.3 128-128 128s-128-57.3-128-128S153.3 0 224 0s128 57.3 128 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z"]},M7=o(2216);const h7=function(e){return{"menu-opened":e}};function YS(e,a){if(1&e&&(c.TgZ(0,"li",9),c._UZ(1,"fa-icon",10),c.TgZ(2,"span",11),c._uU(3),c.qZA()()),2&e){const s=a.$implicit,r=c.oxw();c.Q6J("routerLink",s.link),c.xp6(1),c.Q6J("ngClass",c.VKq(5,h7,r.sideBarStatus))("icon",s.icon),c.xp6(1),c.Q6J("ngClass",c.VKq(7,h7,!r.sideBarStatus)),c.xp6(1),c.hij(" ",s.display," ")}}const $S=function(e){return{opened:e}};class u{constructor(a){this.sideBarService=a,this.iconPath="assets",this.sideBarStatus=!1,this.sideBarLinks=[],this.sideBarService.getSideBarStatus().subscribe(s=>{this.sideBarStatus=s})}ngOnInit(){this.sideBarLinks.push({display:"Users",id:"users",link:"/admin-panel/users",icon:Y,childrens:[{display:"user-profile",id:"profile"}]})}toggleSideBar(){this.sideBarService.openSideBar(!this.sideBarStatus)}}u.\u0275fac=function(a){return new(a||u)(c.Y36(O2.P))},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-sidebar"]],decls:10,vars:4,consts:[[1,"sidebar-menu",3,"ngClass"],[1,"sidebar-header","border-bottom","border"],[1,"logo"],["routerLink","/admin-panel"],["src","assets/images/icon/logo.png","alt","logo"],[1,"main-menu"],[1,"menu-inner"],["id","menu",1,"p-0","metismenu"],["class","d-flex align-items-center position-relative ps-2","routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",1,"d-flex","align-items-center","position-relative","ps-2",3,"routerLink"],[1,"icon",3,"ngClass","icon"],[3,"ngClass"]],template:function(a,s){1&a&&(c.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),c._UZ(4,"img",4),c.qZA()()(),c.TgZ(5,"div",5)(6,"div",6)(7,"nav")(8,"ul",7),c.YNc(9,YS,4,9,"li",8),c.qZA()()()()()),2&a&&(c.Q6J("ngClass",c.VKq(2,$S,s.sideBarStatus)),c.xp6(9),c.Q6J("ngForOf",s.sideBarLinks))},dependencies:[l.mk,l.sg,n.rH,n.Od,M7.BN],styles:['.side-bar[_ngcontent-%COMP%]{position:fixed;height:100%;width:50px;z-index:9;top:0;left:0;overflow-x:hidden;overflow-y:hidden;transition:.3s ease-in-out;background:#ffffff;box-shadow:0 2px 4px #00000046;transition:.3s ease}.opened[_ngcontent-%COMP%]{width:200px!important}h4[_ngcontent-%COMP%]{transition:.3s;transition-delay:0s;visibility:visible;opacity:1;overflow:hidden;white-space:nowrap}h4.show[_ngcontent-%COMP%]{visibility:visible;opacity:1}ul[_ngcontent-%COMP%]{list-style:none}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px;cursor:pointer;transition:.3s}li[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#222;margin-left:5px;white-space:nowrap;overflow:hidden;transition:.3s ease}li[_ngcontent-%COMP%]   span.menu-opened[_ngcontent-%COMP%]{opacity:0;visibility:hidden}.icon[_ngcontent-%COMP%]{margin-left:8px;transition:.3s ease}.icon.menu-opened[_ngcontent-%COMP%]{margin-left:0}.active[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#0d6efd}ul[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.active[_ngcontent-%COMP%]:before{content:"";position:absolute;height:100%;width:5px;background-color:#0d6efd;left:0;top:0}.sidebar-menu[_ngcontent-%COMP%]{position:fixed;height:100%;width:50px;z-index:9;top:0;left:0;overflow-x:hidden;overflow-y:hidden;transition:.3s ease-in-out;background:#ffffff;box-shadow:0 2px 4px #00000046;transition:.3s ease}.sbar_collapsed[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]{left:-280px}']});const cN=function(e){return{opened:e}};class g{constructor(a){this.sideBarService=a,this.sidebarStatus$=this.sideBarService.getSideBarStatus()}}g.\u0275fac=function(a){return new(a||g)(c.Y36(O2.P))},g.\u0275cmp=c.Xpm({type:g,selectors:[["app-landing"]],decls:4,vars:5,consts:[["id","main",1,"mt-3",3,"ngClass"]],template:function(a,s){1&a&&(c._UZ(0,"app-sidebar"),c.TgZ(1,"div",0),c.ALo(2,"async"),c._UZ(3,"router-outlet"),c.qZA()),2&a&&(c.xp6(1),c.Q6J("ngClass",c.VKq(3,cN,c.lcZ(2,1,s.sidebarStatus$))))},dependencies:[l.mk,u,n.lC,l.Ov],styles:["#main[_ngcontent-%COMP%]{width:90%;transition:.3s;margin:0 auto}#main.opened[_ngcontent-%COMP%]{width:75%}"]});class aN{constructor(a){Object.assign(this,a)}}var sN=o(1135);class t{constructor(){this.isOpened=new sN.X(!1)}getModalStatus(){return this.isOpened.asObservable()}openModal(){this.isOpened.next(!0)}closeModal(){this.isOpened.next(!1)}}function eN(e,a){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){const s=c.oxw().$implicit;c.xp6(1),c.hij(" ",null==s||null==s.value?null:s.value.name," ")}}function rN(e,a){if(1&e&&(c.TgZ(0,"th",4),c.YNc(1,eN,2,1,"div",5),c.qZA()),2&e){const s=a.$implicit;c.Q6J("ngSwitch",null==s||null==s.value?null:s.value.type)}}function iN(e,a){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.qZA()),2&e){const s=c.oxw().$implicit,r=c.oxw().$implicit;c.xp6(1),c.hij(" ",r[s.key]," ")}}function lN(e,a){if(1&e&&(c.TgZ(0,"div"),c._uU(1),c.ALo(2,"date"),c.qZA()),2&e){const s=c.oxw().$implicit,r=c.oxw().$implicit;c.xp6(1),c.hij(" ",c.xi3(2,1,r[s.key],"dd/MM/yyyy - hh:mm aaa")," ")}}function fN(e,a){if(1&e&&(c.TgZ(0,"div"),c.ALo(1,"lowercase"),c.TgZ(2,"span"),c._uU(3),c.qZA()()),2&e){const s=c.oxw().$implicit,r=c.oxw().$implicit;c.Gre("bg-",c.lcZ(1,4,r[s.key])," status"),c.xp6(3),c.hij(" ",r[s.key]," ")}}t.\u0275fac=function(a){return new(a||t)},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"});const oN=function(e,a){return[e,a]};function nN(e,a){if(1&e&&(c.TgZ(0,"div")(1,"a",10),c._uU(2),c.ALo(3,"titlecase"),c.qZA()()),2&e){const s=c.oxw().$implicit,r=c.oxw().$implicit;c.xp6(1),c.Q6J("routerLink",c.WLB(4,oN,null==s||null==s.value?null:s.value.state,r[s.key]._id)),c.xp6(1),c.hij(" ",c.lcZ(3,2,r[s.key].display)," ")}}function HN(e,a){if(1&e){const s=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",function(){c.CHM(s);const i=c.oxw(3).$implicit,H=c.oxw();return c.KtG(H.onEditRow(i))}),c._UZ(1,"fa-icon",13),c.qZA()}if(2&e){const s=c.oxw(4);c.xp6(1),c.Q6J("icon",s.fontIcons.edit)}}function zN(e,a){if(1&e){const s=c.EpF();c.TgZ(0,"button",12),c.NdJ("click",function(){c.CHM(s);const i=c.oxw(3).$implicit,H=c.oxw();return c.KtG(H.onDeleteRow(i))}),c._UZ(1,"fa-icon",13),c.qZA()}if(2&e){const s=c.oxw(4);c.xp6(1),c.Q6J("icon",s.fontIcons.delete)}}function tN(e,a){if(1&e&&(c.TgZ(0,"div"),c.YNc(1,HN,2,1,"button",11),c.YNc(2,zN,2,1,"button",11),c.qZA()),2&e){const s=c.oxw().$implicit;c.xp6(1),c.Q6J("ngIf",null==s||null==s.value||null==s.value.options?null:s.value.options.includes("Edit")),c.xp6(1),c.Q6J("ngIf",null==s||null==s.value||null==s.value.options?null:s.value.options.includes("Delete"))}}function VN(e,a){if(1&e&&(c.TgZ(0,"td",7),c.YNc(1,iN,2,1,"div",5),c.YNc(2,lN,3,4,"div",8),c.YNc(3,fN,4,6,"div",9),c.YNc(4,nN,4,7,"div",8),c.YNc(5,tN,3,2,"div",8),c.qZA()),2&e){const s=a.$implicit;c.Q6J("ngSwitch",null==s||null==s.value?null:s.value.type),c.xp6(2),c.Q6J("ngSwitchCase","date"),c.xp6(1),c.Q6J("ngSwitchCase","status"),c.xp6(1),c.Q6J("ngSwitchCase","hyperlink"),c.xp6(1),c.Q6J("ngSwitchCase","actions")}}function mN(e,a){if(1&e&&(c.ynx(0),c.TgZ(1,"tr"),c.YNc(2,VN,6,5,"td",6),c.ALo(3,"keyvalue"),c.qZA(),c.BQk()),2&e){const s=c.oxw();c.xp6(2),c.Q6J("ngForOf",c.xi3(3,1,null==s.tableData?null:s.tableData.columns,s.columnOrder))}}class x{constructor(){this.icons_path="assets/common/",this.icons={edit:this.icons_path+"edit.svg",delete:this.icons_path+"delete.svg"},this.fontIcons={edit:i4,delete:I},this.onEdit=new c.vpe,this.onDelete=new c.vpe,this.columnOrder=(a,s)=>a.value.order>s.value.order?1:s.value.order>a.value.order?-1:0}set tableData(a){this._tableData=a}get tableData(){return this._tableData}onEditRow(a){console.log(a),this.onEdit.emit(a)}onDeleteRow(a){this.onDelete.emit(a)}}x.\u0275fac=function(a){return new(a||x)},x.\u0275cmp=c.Xpm({type:x,selectors:[["app-table"]],inputs:{tableData:"tableData"},outputs:{onEdit:"onEdit",onDelete:"onDelete"},decls:8,vars:5,consts:[[1,"table-container"],[1,"table"],["scope","col",3,"ngSwitch",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["scope","col",3,"ngSwitch"],[4,"ngSwitchDefault"],[3,"ngSwitch",4,"ngFor","ngForOf"],[3,"ngSwitch"],[4,"ngSwitchCase"],[3,"class",4,"ngSwitchCase"],[3,"routerLink"],["class","icon-btn me-2",3,"click",4,"ngIf"],[1,"icon-btn","me-2",3,"click"],[3,"icon"]],template:function(a,s){1&a&&(c.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr"),c.YNc(4,rN,2,1,"th",2),c.ALo(5,"keyvalue"),c.qZA()(),c.TgZ(6,"tbody"),c.YNc(7,mN,4,4,"ng-container",3),c.qZA()()()),2&a&&(c.xp6(4),c.Q6J("ngForOf",c.xi3(5,2,null==s.tableData?null:s.tableData.columns,s.columnOrder)),c.xp6(3),c.Q6J("ngForOf",null==s.tableData?null:s.tableData.rows))},dependencies:[l.sg,l.O5,l.RF,l.n9,l.ED,n.rH,M7.BN,l.i8,l.rS,l.uU,l.Nd],styles:["table[_ngcontent-%COMP%]{border:1px solid #ccc}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:.75rem}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background-color:#f5f5f5}.icon-btn[_ngcontent-%COMP%]{padding:0;border:none;background:none;border-radius:50%}.status[_ngcontent-%COMP%]{text-align:center;width:95px;color:#fff;font-weight:700;font-size:14px;border-radius:3px;padding:5px}.status[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:5px}fa-icon[_ngcontent-%COMP%]{font-size:18px}"]});var C7=o(9837);const vN=["openBtn"];function MN(e,a){if(1&e){const s=c.EpF();c.TgZ(0,"button",8),c.NdJ("click",function(){const H=c.CHM(s).$implicit,Z=c.oxw(2);return c.KtG(Z.onClick(H.action))}),c._uU(1),c.qZA()}if(2&e){const s=a.$implicit;c.Q6J("ngClass",s.styleClass),c.xp6(1),c.hij(" ",s.display," ")}}function hN(e,a){if(1&e&&(c.TgZ(0,"div",3)(1,"h4",4),c._uU(2),c.qZA()(),c.TgZ(3,"div",5),c.Hsn(4),c.qZA(),c.TgZ(5,"div",6),c.YNc(6,MN,2,2,"button",7),c.qZA()),2&e){const s=c.oxw();c.xp6(2),c.Oqu(s.header),c.xp6(4),c.Q6J("ngForOf",s.actions)}}class S{constructor(a,s,r){this.modalService=a,this.ms=s,this.header="",this.actions=Object(null),this.onAction=new c.vpe,r.backdrop="static",r.keyboard=!1,r.centered=!0,s.getModalStatus().subscribe(i=>{i?this.openBtn.nativeElement.click():this.close()})}open(a){this.modalService.open(a)}close(){this.modalService.dismissAll()}onClick(a){this.onAction.emit(a)}}S.\u0275fac=function(a){return new(a||S)(c.Y36(C7.FF),c.Y36(t),c.Y36(C7.NM))},S.\u0275cmp=c.Xpm({type:S,selectors:[["app-modal"]],viewQuery:function(a,s){if(1&a&&c.Gf(vN,5),2&a){let r;c.iGM(r=c.CRH())&&(s.openBtn=r.first)}},inputs:{header:"header",actions:"actions"},outputs:{onAction:"onAction"},ngContentSelectors:["*"],decls:5,vars:0,consts:[["content",""],["hidden","",1,"btn","btn-lg","btn-outline-primary",3,"click"],["openBtn",""],[1,"modal-header","justify-content-center"],[1,"m-0"],[1,"modal-body"],[1,"modal-footer"],[3,"ngClass","click",4,"ngFor","ngForOf"],[3,"ngClass","click"]],template:function(a,s){if(1&a){const r=c.EpF();c.F$t(),c.YNc(0,hN,7,2,"ng-template",null,0,c.W1O),c.TgZ(2,"button",1,2),c.NdJ("click",function(){c.CHM(r);const H=c.MAs(1);return c.KtG(s.open(H))}),c._uU(4," Launch demo modal\n"),c.qZA()}},dependencies:[l.mk,l.sg],styles:[".btn[_ngcontent-%COMP%]{width:95px}"]});class N{constructor(){this.user=Object(null)}}N.\u0275fac=function(a){return new(a||N)},N.\u0275cmp=c.Xpm({type:N,selectors:[["app-delete-modal"]],inputs:{user:"user"},decls:6,vars:3,consts:[[1,"text-center"],[1,"m-0"]],template:function(a,s){1&a&&(c.TgZ(0,"div",0)(1,"p",1),c._uU(2," Are you sure you want to delete "),c.TgZ(3,"strong"),c._uU(4),c.ALo(5,"titlecase"),c.qZA()()()),2&a&&(c.xp6(4),c.Oqu(c.lcZ(5,1,null==s.user||null==s.user.name?null:s.user.name.display)))},dependencies:[l.rS]});const pN=["deleteModal"];class b{constructor(a,s,r,i){this.userService=a,this.router=s,this.modalService=r,this.toaster=i,this.tableData=Object(null),this.modalActions=[{display:"Delete",action:"delete",styleClass:"btn btn-primary"},{display:"Cancel",action:"cancel",styleClass:"btn btn-outline-primary"}]}ngOnInit(){this.tableData=this.createTable(),this.initData()}createTable(){return new aN({columns:{name:{name:"Name",type:"hyperlink",order:0,state:"/admin-panel/user-profile"},email:{name:"Email",type:"email",order:1},createdAt:{name:"Created At",type:"date",order:2},updatedAt:{name:"Updated At",type:"date",order:3},status:{name:"Status",type:"status",order:4},actions:{name:"Actions",type:"actions",order:5,options:["Edit","Delete"]}}})}initData(){this.userService.getAllUsers().pipe((0,E2.U)(({payload:a})=>{this.tableData.rows=a?.data?.map(s=>({_id:s._id,name:{display:s.fName+" "+s.lName,_id:s._id},email:s.email,createdAt:s.createdAt,updatedAt:s.updatedAt,status:s.status?"Enabled":"Disabled"}))})).subscribe()}onEdit(a){this.router.navigate(["/admin-panel/user-manage",a._id])}onDelete(a){this.selectedUser=a._id,this.deleteModal.user=JSON.parse(JSON.stringify(a)),this.modalService.openModal()}handleAction(a){"delete"==a?this.deleteUser():this.modalService.closeModal()}deleteUser(){this.userService.deleteUser({id:this.selectedUser}).subscribe({next:a=>{this.toaster.toast({type:"success",msg:a.message||""}),console.log(a)},error:a=>{this.toaster.toast(a instanceof G2.UA?{type:"error",msg:a.error.message}:{type:"error",msg:a})}})}}b.\u0275fac=function(a){return new(a||b)(c.Y36(z),c.Y36(n.F0),c.Y36(t),c.Y36(W2.M))},b.\u0275cmp=c.Xpm({type:b,selectors:[["app-users"]],viewQuery:function(a,s){if(1&a&&c.Gf(pN,5),2&a){let r;c.iGM(r=c.CRH())&&(s.deleteModal=r.first)}},decls:10,vars:3,consts:[[1,"d-flex","align-items-center","justify-content-between","mb-3"],[1,"m-0","font-bold","font-18"],["routerLink","/admin-panel/user-manage",1,"btn","btn-outline-primary"],[3,"tableData","onEdit","onDelete"],[3,"header","actions","onAction"],["deleteModal",""]],template:function(a,s){1&a&&(c.TgZ(0,"div")(1,"div",0)(2,"p",1),c._uU(3,"Users List"),c.qZA(),c.TgZ(4,"button",2),c._uU(5," Create User "),c.qZA()(),c.TgZ(6,"app-table",3),c.NdJ("onEdit",function(i){return s.onEdit(i)})("onDelete",function(i){return s.onDelete(i)}),c.qZA()(),c.TgZ(7,"app-modal",4),c.NdJ("onAction",function(i){return s.handleAction(i)}),c._UZ(8,"app-delete-modal",null,5),c.qZA()),2&a&&(c.xp6(6),c.Q6J("tableData",s.tableData),c.xp6(1),c.Q6J("header","Delete User")("actions",s.modalActions))},dependencies:[x,S,n.rH,N]});class w{}w.\u0275fac=function(a){return new(a||w)},w.\u0275cmp=c.Xpm({type:w,selectors:[["app-user-profile"]],decls:2,vars:0,template:function(a,s){1&a&&(c.TgZ(0,"p"),c._uU(1,"user-profile works!"),c.qZA())}});const LN=[{path:"",component:g,children:[{path:"users",component:b},{path:"user-manage",component:V},{path:"user-manage/:id",component:V},{path:"user-profile/:id",component:w}]}];class m{}m.\u0275fac=function(a){return new(a||m)},m.\u0275mod=c.oAB({type:m}),m.\u0275inj=c.cJS({imports:[n.Bz.forChild(LN),f.u5,f.UX]});class v{}v.\u0275fac=function(a){return new(a||v)},v.\u0275mod=c.oAB({type:v}),v.\u0275inj=c.cJS({imports:[f.UX,l.ez,f.u5,m,p7.m,n.Bz]})}}]);